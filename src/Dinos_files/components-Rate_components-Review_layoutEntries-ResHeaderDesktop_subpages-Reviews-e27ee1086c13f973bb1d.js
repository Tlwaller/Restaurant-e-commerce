(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[14],{O2RT:function(e,t,a){"use strict";a.d(t,"b",(function(){return h})),a.d(t,"a",(function(){return w}));var n=a("yXPU"),r=a.n(n),i=a("o0o1"),s=a.n(i),c=a("7EGn"),o=a("ifKl"),u=a("fujP"),l=a("czsM"),d=a.n(l),f=a("UJKZ"),g=a.n(f),p=a("HeTv"),b=a.n(p),m=a("wRyO"),v=a.n(m),O=a("LOOW"),j=a("fNgF"),h=function(){var e=r()(s.a.mark((function e(t){var a,n,i,l,d,f,g,p,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,i=t.data,l=void 0===i?{}:i,d=t.updateRating,f=void 0===d?o.default:d,g=t.showErrorToast,p=void 0===g?o.default:g,e.next=4,Object(O.d)(j.cc,{body:JSON.stringify(l),method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch(function(){var e=r()(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.response){e.next=3;break}return e.next=3,t.response.json().then((function(e){n=Object(c.default)(e,"message",void 0)}));case 3:a=!0;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:if(b=e.sent,Object(u.default)(b)||a||"success"!==Object(c.default)(b,"page_data.status")){e.next=8;break}return f(b,l.res_id),e.abrupt("return",b);case 8:return p(Object(c.default)(b,"page_data.message",n)),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=r()(s.a.mark((function e(t){var a,n,r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,r=t.data,i=void 0===r?{}:r,e.prev=2,e.next=5,Object(O.d)(j.S,{body:JSON.stringify(i),method:"POST",headers:{"Content-Type":"application/json"}});case 5:return o=e.sent,e.next=8,o.json();case 8:n=e.sent,e.next=19;break;case 11:if(e.prev=11,e.t0=e.catch(2),!e.t0.response){e.next=18;break}return e.next=16,e.t0.response.json();case 16:e.sent;case 18:a=!0;case 19:if(Object(u.default)(n)||a||"success"!==Object(c.default)(n,"page_data.status")){e.next=21;break}return e.abrupt("return",n);case 21:return e.abrupt("return",void 0);case 22:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();v.a.z500,b.a.z400,g.a.z400,d.a.z500,d.a.z700},OMds:function(e,t,a){"use strict";var n,r,i,s=a("VkAN"),c=a.n(s),o=a("q1tI"),u=a.n(o),l=a("vOnD"),d=a("17x9"),f=a.n(d),g=a("BAyj"),p=a.n(g),b=Object(l.default)(p.a)(n||(n=c()(["\n  margin-top: 4.5rem;\n  height: 2.1rem;\n  width: ",";\n  margin-bottom: 2rem;\n"])),(function(e){return e.isMobile?"50%":"30rem"})),m=Object(l.default)(p.a)(r||(r=c()(["\n  height: 4.8rem;\n  width: ",";\n"])),(function(e){return e.isMobile?"100%":"60rem"})),v=Object(l.default)(p.a)(i||(i=c()(["\n  height: 9.8rem;\n  width: ",";\n  margin-top: 2.5rem;\n"])),(function(e){return e.isMobile?"100%":"60rem"})),O=function(e){var t=e.isMobile;return u.a.createElement(u.a.Fragment,null,u.a.createElement(b,{isMobile:t}),u.a.createElement(m,{isMobile:t}),u.a.createElement(v,{isMobile:t}),u.a.createElement(b,{isMobile:t}),u.a.createElement(m,{isMobile:t}),u.a.createElement(v,{isMobile:t}))};O.propTypes={isMobile:f.a.bool},O.defaultProps={isMobile:!1};var j=O;t.a=j},UEIM:function(e,t,a){"use strict";var n,r=a("VkAN"),i=a.n(r),s=a("pVnL"),c=a.n(s),o=a("J4zp"),u=a.n(o),l=a("q1tI"),d=a.n(l),f=a("17x9"),g=a.n(f),p=a("vOnD"),b=a("ifKl"),m=a("7EGn"),v=a("XhtD"),O=a("pX3g"),j=a.n(O),h=a("HMsx"),w=a.n(h),T=a("wRyO"),E=a.n(T),x=a("5An4"),R=a.n(x),y=(a("kdDk"),a("wcxm")),M=a("MycK"),I=a.n(M),V=a("ieZA"),_=a.n(V),L=a("yXPU"),P=a.n(L),D=a("o0o1"),F=a.n(D),S=a("ALki"),A=a.n(S),U=p.default.div(n||(n=i()(["\n  width: 50%;\n  margin-top: 1rem;\n"]))),k=a("O2RT"),N=a("hNeM"),C=function(e){var t=e.currentPageName,a=e.isMobile,n=e.appType,r=e.subType,i=e.options,s=e.experienceVal,c=e.setRatingValue,o=e.resId,u=e.setExperience,l=e.updateModalData,f=e.setLoading,g=e.setRatingText,p=e.changingValue,b=e.setTags,v=e.setUrlMap,O=e.setFileHash,j=e.setRating,h=e.setReviewValue,w=e.showErrorToast,T=e.setReviewIdVal,x=e.isLoggedIn,R=e.openLoginForm,y=function(){var e=P()(F.a.mark((function e(i){var s,d;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=4;break}R(),e.next=14;break;case 4:return Object(N.a)({pageName:t,isMobile:a,appType:n,resId:o,subType:r,currentExperience:i}),u(i),j(0),c(0),p(1),f(!0),e.next=12,Object(k.a)({data:{res_id:o,experience:i}});case 12:s=e.sent,"success"===Object(m.default)(s,"page_data.status","")?(d=Object(m.default)(s,"page_data.entities.0.entity_ids.0",0),h(Object(m.default)(s,"page_data.review.reviewText","")),v(Object(m.default)(s,"page_data.review.reviewImageUrls",[])),O(Object(m.default)(s,"page_data.review.reviewImageHash",[])),b(Object(m.default)(s,"page_data.review.reviewTags",{})),T(Object(m.default)(s,"page_data.review.reviewId",void 0)),l(s),c(Object(m.default)(s,"entities.RATING.".concat(d,".rating"),0)),j(Object(m.default)(s,"entities.RATING.".concat(d,".rating"),0)),g(Object(m.default)(s,"entities.RATING.".concat(d,".text"),"")),f(!1)):w();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d.a.createElement(U,null,d.a.createElement(A.a,{options:i,name:"radio",selected:s,horizontal:!0,selectedColor:E.a.z500,onChange:y}))};C.propTypes={currentPageName:g.a.string,isMobile:g.a.bool,appType:g.a.string,subType:g.a.bool,options:g.a.arrayOf(g.a.shape({label:g.a.string,value:g.a.string})).isRequired,experienceVal:g.a.string,setRatingValue:g.a.func,setExperience:g.a.func,setLoading:g.a.func,setRatingText:g.a.func,resId:g.a.number.isRequired,updateModalData:g.a.func,showErrorToast:g.a.func,changingValue:g.a.func,setTags:g.a.func,setUrlMap:g.a.func,setFileHash:g.a.func,setRating:g.a.func,setReviewValue:g.a.func,setReviewIdVal:g.a.func,isLoggedIn:g.a.bool,openLoginForm:g.a.func},C.defaultProps={currentPageName:"",isMobile:!1,appType:"",subType:"",updateModalData:b.default,changingValue:b.default,setTags:b.default,experienceVal:"",setRatingValue:b.default,setExperience:b.default,setLoading:b.default,setRatingText:b.default,setUrlMap:b.default,setFileHash:b.default,setRating:b.default,setReviewValue:b.default,showErrorToast:b.default,setReviewIdVal:b.default,isLoggedIn:!1,openLoginForm:b.default};var H,z,q,G,K,B,W=C,X=a("mCKf"),J=function(e,t){return e?t?E.a.z_red:R.a:w.a.z300},Z=function e(t){var a=t.currentPageName,n=t.subType,r=t.appType,i=t.rating,s=t.postRating,o=t.requiresData,f=t.resId,g=t.text,p=t.isPartner,b=t.ratingData,O=t.updateRating,j=t.callback,h=t.isLoggedIn,w=t.openLoginForm,T=t.showErrorToast,x=t.isMobile,y=(t.clearText,t.margin),M=t.size,V=t.isForDelivery,L=t.banUGCStates,P=t.ugcErrorMessage,D=t.experience,F=t.setRating,S=t.reviewOptions,A=t.updateModalData,U=t.changingValue,k=t.setTags,N=t.setUrlMap,C=t.setFileHash,H=t.setReviewValue,z=t.setExperienceVal,q=t.setReviewIdVal,G=Object(l.useState)(i),K=u()(G,2),B=K[0],Z=K[1],Q=Object(l.useState)(!1),ae=u()(Q,2),ne=ae[0],re=ae[1],ie=Object(l.useState)(g),se=u()(ie,2),ce=se[0],oe=se[1];Object(l.useEffect)((function(){Z(i)}),[i]),Object(l.useEffect)((function(){oe(g)}),[g]);var ue=function(e){return function(){if(Object(X.s)(),h||p){if(B!==e){re(!0);var t=e?{res_id:f,rating:e,requires_data:o,experience:D}:{res_id:f,rating:B,type:"clear",experience:D};U(e),Z(e),F(e),s({data:t,updateRating:O,showErrorToast:T}).then((function(e){re(!1),e&&o&&j(e)}))}}else w()}},le=function(){Object(X.s)(),T(P)},de=Object(m.default)(b,"options",[]).length>1?b:S;return d.a.createElement(d.a.Fragment,null,Object(m.default)(de,"options",[]).length>1&&d.a.createElement(W,{currentPageName:a,appType:r,isMobile:x,subType:n,options:Object(m.default)(de,"options",[]),setExperience:z,experienceVal:D,setRatingValue:Z,resId:f,updateModalData:A,setLoading:re,setRatingText:oe,changingValue:U,setTags:k,setUrlMap:N,setFileHash:C,setRating:F,setReviewValue:H,showErrorToast:T,setReviewIdVal:q,isLoggedIn:h,openLoginForm:w}),d.a.createElement(te,null,d.a.createElement(e.Wrapper,{margin:y},Object(v.default)(1,6).map((function(e){var t=B>=e,a={onClick:L?le:ue(e),size:x?22:28,color:J(t,V||"delivery"===D),key:"taptorate-ratingpill-".concat(e)};return d.a.createElement(Y,c()({},a,{disabled:L}))})),ne&&d.a.createElement(ee,{size:M},x?d.a.createElement(_.a,{size:"small",color:E.a.z500}):d.a.createElement(I.a,{size:"small",color:E.a.z500})),!!g&&!!B&&!ne&&d.a.createElement($,{color:R.a},ce)),null))};Z.propTypes={appType:g.a.string,resId:g.a.number.isRequired,subType:g.a.string,currentPageName:g.a.string,isPartner:g.a.bool,margin:g.a.string,rating:g.a.number,requiresData:g.a.bool,ratingData:g.a.shape({header:g.a.string,options:g.a.arrayOf(g.a.shape({label:g.a.string,value:g.a.string})),selected:g.a.string}),reviewOptions:g.a.shape({header:g.a.string,options:g.a.arrayOf(g.a.shape({label:g.a.string,value:g.a.string})),selected:g.a.string}),text:g.a.string,updateRating:g.a.func,callback:g.a.func,isLoggedIn:g.a.bool,openLoginForm:g.a.func,showErrorToast:g.a.func,isMobile:g.a.bool,clearText:g.a.string,postRating:g.a.func,size:g.a.string,experience:g.a.string,isForDelivery:g.a.bool,banUGCStates:g.a.bool.isRequired,ugcErrorMessage:g.a.string.isRequired,updateModalData:g.a.func,changingValue:g.a.func,setTags:g.a.func,setUrlMap:g.a.func,setFileHash:g.a.func,setRating:g.a.func,setReviewValue:g.a.func,setExperienceVal:g.a.func,setReviewIdVal:g.a.func},Z.defaultProps={appType:"",margin:"0",rating:0,subType:"",currentPageName:"",isPartner:!1,experience:"",requiresData:!1,text:"",ratingData:{header:"",options:[{label:"",value:""}],selected:""},reviewOptions:{header:"",options:[{label:"",value:""}],selected:""},updateRating:b.default,updateModalData:b.default,callback:b.default,isLoggedIn:!1,openLoginForm:b.default,isMobile:!1,clearText:"",postRating:b.default,size:"normal",showErrorToast:b.default,isForDelivery:!1,changingValue:b.default,setTags:b.default,setUrlMap:b.default,setFileHash:b.default,setRating:b.default,setReviewValue:b.default,setExperienceVal:b.default,setReviewIdVal:b.default};var $=Object(p.default)(y.P)(H||(H=i()(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 0 0 0 1rem;\n"]))),Q=Object(p.css)(z||(z=i()(["\n  margin-right: 0.8rem;\n  cursor: pointer;\n"]))),Y=Object(p.default)(j.a)(q||(q=i()(["\n  ","\n"])),Q),ee=p.default.section(G||(G=i()(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 0 1rem;\n"]))),te=p.default.section(K||(K=i()(["\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"])));Z.Wrapper=p.default.section(B||(B=i()(["\n  display: flex;\n  align-items: center;\n  margin: ",";\n"])),(function(e){return e.margin||0}));t.a=Z},W92K:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return u})),a.d(t,"e",(function(){return l})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return f}));var n=a("7EGn"),r=a("vCUO"),i=a("rjMX"),s=a("ful+"),c=a("gzsF"),o=function(e){return e.map((function(e){var t=e.data,a=void 0===t?{}:t;return{label:a.text,value:a.id}}))},u=function(e,t){var a=Object(n.default)(e,"pages.current.resId",0);return a||Object(n.default)(t,"resId",0)},l=function(e,t){var a=Object(n.default)(e,"pages.current.resId",0);return a?Object(n.default)(e,"pages.restaurant.".concat(a,".sections.").concat(r.H,".should_ban_ugc"),!1):Object(n.default)(t,"banUGCStates",!1)},d=function(e,t){var a=Object(n.default)(t,"reviewId",0);if(i.kb===Object(n.default)(e,"pages.current.name")&&!a)return Object(s.a)(e,r.j,r.rb);if(a){var o=Object(n.default)(e,"entities.".concat(r.l,".").concat(a,".rating.entities.0.entity_ids.0"),0);return Object(n.default)(e,"entities.".concat(r.j,".").concat(o),{})}var u=Object(n.default)(t,"postId",0),l=Object(n.default)(e,"entities.".concat(c.k,".").concat(u,".rating.entities.0.entity_ids.0"),0);return Object(n.default)(e,"entities.".concat(r.j,".").concat(l),{})},f=function(e,t){var a=Object(n.default)(t,"postId",0);if(!a){var i=Object(n.default)(t,"reviewId",0);return Object(n.default)(e,"entities.".concat(r.l,".").concat(i),{})}return Object(n.default)(e,"entities.".concat(c.k,".").concat(a),{})}},igHW:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n="img",r="modal"},qRqA:function(e,t,a){"use strict";var n=a("/MKj"),r=a("7EGn"),i=a("UEIM"),s=a("T3P7"),c=a("E8V7"),o=a("W92K"),u=a("ulUr"),l=a("tyUB"),d=a("vCUO"),f=a("SoD/"),g=Object(n.c)((function(e,t){var a=Object(o.b)(e,t),n=Object(r.default)(e,"pages.restaurant.".concat(a,".sections"),{});return{resId:a,currentPageName:Object(r.default)(e,"pages.current.name",""),subType:Object(r.default)(e,"pages.current.subType",""),appType:Object(f.a)(e),isForDelivery:u.a.includes(Object(r.default)(e,"pages.current.name")),ratingData:Object(r.default)(n,d.Z,[]),isPartner:Object(l.b)(Object(r.default)(e,"pages.current.name")),clearText:Object(r.default)(e,"langKeys.CLEAR_TEXT",""),ugcErrorMessage:Object(r.default)(e,"langKeys.UGC_DISABLED_ERROR","Sorry! You can only post content for operational restaurants"),banUGCStates:Object(o.e)(e,t)}}),(function(e){return{updateRating:function(t,a){e(Object(s.Q)(t,a))},showErrorToast:function(t){return e(Object(c.j)(t))}}}))(i.a);t.a=g},stjy:function(e,t,a){"use strict";var n=a("/MKj"),r=a("7EGn"),i=a("yLFc"),s=a("W92K"),c=a("T3P7"),o=a("WtXd"),u=a("vCUO"),l=a("E8V7"),d=Object(n.c)((function(e,t){var a=Object(s.d)(e,t),n=Object(s.b)(e,t),i=Object(r.default)(e,"pages.restaurant.".concat(n,".sections"),{}),c=Object(r.default)(i,u.Z,[]),o=Array.isArray(a)?a[0]:a;return{resId:n,ratingHeader:Object(r.default)(c,"header",""),userProfilePic:Object(r.default)(e,"user.basic_info.profile_picture",""),experienceVal:Object(r.default)(o,"experience",Object(r.default)(c,"selected","")),ratingVal:Object(r.default)(o,"rating",0),ratingText:Object(r.default)(o,"text",""),ratingColor:Object(r.default)(o,"ratingColor","")}}),(function(e){return{updateReview:function(t,a){e(Object(c.R)(t,a))},publishBlog:function(t,a,n){e(Object(o.t)(t,a,n))},showErrorToast:function(){return e(Object(l.j)())}}}))(i.a);t.a=d},ulUr:function(e,t,a){"use strict";var n=a("rjMX"),r=[n.hb,n.bb];t.a=r},"v/FT":function(e,t,a){"use strict";var n,r,i,s=a("VkAN"),c=a.n(s),o=a("q1tI"),u=a.n(o),l=a("vOnD"),d=a("17x9"),f=a.n(d),g=a("BAyj"),p=a.n(g),b=Object(l.default)(p.a)(n||(n=c()(["\n  margin: ",";\n  width: ",";\n  height: 1.5rem;\n"])),(function(e){return e.margin}),(function(e){return e.width})),m=l.default.section(r||(r=c()(["\n  margin-top: 2rem;\n"]))),v=Object(l.default)(p.a)(i||(i=c()(["\n  width: ",";\n  height: 28rem;\n  margin: 7rem auto 0;\n"])),(function(e){return e.isMobile?"70%":"40rem"})),O=function(e){var t=e.isMobile;return u.a.createElement(u.a.Fragment,null,u.a.createElement(v,{isMobile:t}),u.a.createElement(m,null,u.a.createElement(b,{width:t?"50%":"30rem",margin:"0.8rem auto 0"}),u.a.createElement(b,{width:t?"40%":"25rem",margin:"0.8rem auto 8rem"})))};O.propTypes={isMobile:f.a.bool},O.defaultProps={isMobile:!1},t.a=O},yLFc:function(e,t,a){"use strict";var n=a("yXPU"),r=a.n(n),i=a("3tO9"),s=a.n(i),c=a("J4zp"),o=a.n(c),u=a("pVnL"),l=a.n(u),d=a("VkAN"),f=a.n(d),g=a("o0o1"),p=a.n(g),b=a("q1tI"),m=a.n(b),v=a("17x9"),O=a.n(v),j=a("vOnD"),h=a("MKeS"),w=a("7EGn"),T=a("ifKl"),E=a("fujP"),x=a("RsOY"),R=a.n(x),y=a("fHDd"),M=a.n(y),I=a("HK2I"),V=a.n(I),_=a("FrN4"),L=a.n(_),P=a("lFeK"),D=a.n(P),F=a("wcxm"),S=a.n(F),A=a("HMsx"),U=a.n(A),k=a("5An4"),N=a.n(k),C=a("qRqA"),H=a("OMds"),z=a("v/FT"),q=a("W92K"),G=a("O2RT"),K=a("OBq1"),B=a("igHW"),W=a("UrwC"),X,J,Z,$,Q,Y=Object(h.a)({resolved:{},chunkName:function(){return"components-ReviewSection"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!a.m[t]},importAsync:function(){return Promise.all([a.e(5),a.e(48),a.e(106)]).then(a.bind(null,"e+ol"))},requireAsync:function(e){var t=this,a=this.resolve(e);return this.resolved[a]=!1,this.importAsync(e).then((function(e){return t.resolved[a]=!0,e}))},requireSync:function e(t){var n=this.resolve(t);return a(n)},resolve:function e(){return"e+ol"}},{ssr:!1}),ee=j.default.section(X||(X=f()(["\n  margin: ",";\n  padding: ",";\n  width: 60rem;\n  @media (max-width: 768px) {\n    width: 45rem;\n  }\n  @media (max-width: 480px) {\n    width: 100%;\n  }\n"])),(function(e){return e.isMobile?0:"0 2.2rem 4rem 2.4rem"}),(function(e){return e.isMobile?"0 1.4rem 2rem 1.4rem":0})),te=j.default.div(J||(J=f()(["\n  font-size: 2.4rem;\n  line-height: 2.8rem;\n  font-weight: 400;\n  color: ",";\n  margin-top: 0.5rem;\n  margin-bottom: 0.83rem;\n  @media (max-width: 480px) {\n    display: flex;\n    width: 100%;\n    justify-content: center;\n    font-size: 1.8rem;\n    line-height: 1.2;\n    font-weight: 500;\n  }\n"])),N.a),ae=Object(j.default)(V.a)(Z||(Z=f()(["\n  margin: 0.8rem 0 1.5rem;\n"]))),ne=Object(j.default)(D.a)($||($=f()(["\n  margin: 0 auto;\n"]))),re=Object(j.default)(F.P)(Q||(Q=f()(["\n  text-align: center;\n  margin: ",";\n"])),(function(e){return e.isMobile?"2rem 0":"2rem 10rem 8rem"})),ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(w.default)(e,"NEGATIVE.tags",[]),a=Object(w.default)(e,"POSITIVE.tags",[]),n=Object(q.a)(t),r=Object(q.a)(a);return n.length>0&&r.length>0?R()(e,{NEGATIVE:{tags:{$set:n}},POSITIVE:{tags:{$set:r}}}):n.length>0?R()(e,{NEGATIVE:{tags:{$set:n}}}):r.length>0?R()(e,{POSITIVE:{tags:{$set:r}}}):e},se=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e===B.b&&Object(E.default)(t)?m.a.createElement(H.a,{isMobile:n}):e===B.a?m.a.createElement(z.a,{isMobile:n}):m.a.createElement(Y,l()({modalData:t},a,{fallback:m.a.createElement(H.a,{isMobile:n})}))},ce=function(e){var t=e.resId,a=e.ratingVal,n=e.ratingText,i=e.ratingColor,c=e.closeModal,u=e.updateReview,l=e.publishBlog,d=e.userProfilePic,f=e.isLoggedIn,g=e.openLoginForm,v=e.modalLocale,O=e.isMobile,j=e.visible,h=e.reviewId,T=e.ratingHeader,E=e.experienceVal,x=e.postId,R=e.reviewOptions,M=e.showErrorToast,I=Object(b.useState)({}),V=o()(I,2),_=V[0],P=V[1],D=Object(b.useState)({}),F=o()(D,2),S=F[0],A=F[1],k=Object(b.useState)([]),N=o()(k,2),H=N[0],z=N[1],q=Object(b.useState)([]),W=o()(q,2),X=W[0],J=W[1],Z=Object(b.useState)(a?B.b:""),$=o()(Z,2),Q=$[0],Y=$[1],ce=Object(b.useState)(!1),oe=o()(ce,2),ue=oe[0],le=oe[1],de=Object(b.useState)(a),fe=o()(de,2),ge=fe[0],pe=fe[1],be=Object(b.useState)(E),me=o()(be,2),ve=me[0],Oe=me[1],je=Object(b.useState)(""),he=o()(je,2),we=he[0],Te=he[1],Ee=Object(b.useState)(h),xe=o()(Ee,2),Re=xe[0],ye=xe[1],Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(w.default)(e,"page_data.data",{});P(s()(s()({},t),{},{TAG_QUESTION:ie(t.TAG_QUESTION)})),Y("")};Object(b.useEffect)((function(){r()(p.a.mark((function e(){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!j){e.next=5;break}return e.next=3,Object(G.a)({data:{res_id:t,experience:ve}});case 3:n=e.sent,"success"===Object(w.default)(n,"page_data.status","")?(A(Object(w.default)(n,"page_data.review.reviewTags",{})),Te(Object(w.default)(n,"page_data.review.reviewText","")),z(Object(w.default)(n,"page_data.review.reviewImageHash",[])),J(Object(w.default)(n,"page_data.review.reviewImageUrls",[])),ye(Object(w.default)(n,"page_data.review.reviewId",void 0)),Me(n)):M();case 5:case"end":return e.stop()}}),e)})))()}),[j]);var Ie=function(){ue||c()},Ve={ratingVal:ge,experienceVal:ve,resId:t,reviewId:Re,postId:x,closeModal:Ie,updateReview:u,publishBlog:l,isLoading:ue,setLoading:le,userProfilePic:d,tags:S,setTags:A,fileHash:H,urlMap:X,setUrlMap:J,setFileHash:z,reviewValue:we,setReviewValue:Te,addReviewTitle:Object(w.default)(v,"addReviewTitle","")};return m.a.createElement(L.a,{visible:j,titleComponent:m.a.createElement(te,null,Object(w.default)(v,"addReviewTitle","")),onClose:Ie,slideOnMobile:!0},m.a.createElement(ee,{isMobile:O},m.a.createElement(ae,null,Object(w.default)(R,"header",T)),m.a.createElement(C.a,{changingValue:function(e){P({}),Y(e?B.b:B.a)},rating:a,setRating:pe,requiresData:!0,text:n,color:i,callback:Me,isLoggedIn:f,openLoginForm:g,clearBtnMargin:"0 0 1rem 0",isMobile:O,postRating:G.b,resId:t,experience:ve,setExperienceVal:Oe,reviewOptions:R,updateModalData:Me,setTags:A,setUrlMap:J,setFileHash:z,setReviewValue:Te,showErrorToast:M,setReviewIdVal:ye}),ge||Q||x?se(Q,_,Ve,O):m.a.createElement(m.a.Fragment,null,m.a.createElement(ne,{src:Object(y.getCDN)(K.n),height:O?"70%":"34rem",width:O?"80%":"40rem",alt:"No Reviews Graphic",fit:"contain"}),m.a.createElement(re,{color:U.a.z500,isMobile:O},Object(w.default)(v,"noReviewText","")))))};ce.propTypes={resId:O.a.number.isRequired,closeModal:O.a.func,ratingVal:O.a.number,ratingText:O.a.string,ratingColor:O.a.string,updateReview:O.a.func,publishBlog:O.a.func,userProfilePic:O.a.string.isRequired,isLoggedIn:O.a.bool,openLoginForm:O.a.func,modalLocale:O.a.shape({modalTitle:O.a.string,noReviewText:O.a.string,rateTitle:O.a.string,addReviewTitle:O.a.string}),isMobile:O.a.bool,visible:O.a.bool,reviewId:O.a.number,postId:O.a.number,ratingHeader:O.a.string,experienceVal:O.a.string,reviewOptions:O.a.shape({header:O.a.string,options:O.a.arrayOf(O.a.shape({label:O.a.string,value:O.a.string})),selected:O.a.string}),showErrorToast:O.a.func},ce.defaultProps={ratingVal:0,postId:0,reviewId:0,closeModal:T.default,showErrorToast:T.default,ratingText:"",ratingColor:"",updateReview:T.default,publishBlog:T.default,isLoggedIn:!1,openLoginForm:T.default,modalLocale:{modalTitle:"",noReviewText:"",rateTitle:"",addReviewTitle:""},isMobile:!1,visible:!0,ratingHeader:"",experienceVal:"",reviewOptions:{header:"",options:[{label:"",value:""}],selected:""}},t.a=Object(b.memo)(ce,W.h)}}]);